{
	"name": "fonts",
	"res_folder": "./deploy",
	"wasm": true,
	"asm": false,
	"run_before": "import sys;sys.path.append(\"../../../../../build_tools/scripts\");import base;base.configure_common_apps();base.download(\"https://netcologne.dl.sourceforge.net/project/freetype/freetype2/2.10.1/ft2101.zip\", \"freetype-2.10.1.zip\") or base.extract(\"freetype-2.10.1.zip\", \"./\") if not base.is_dir(\"freetype-2.10.1\") else None",
	"run_after": "import sys;sys.path.append(\"../../../../../build_tools/scripts\");import base;import os;base.configure_common_apps();base.replaceInFile(\"./deploy/fonts.js\", \"__ATPOSTRUN__=[];\", \"__ATPOSTRUN__=[function(){window[\\\"AscFonts\\\"].onLoadModule();}];\");base.replaceInFile(\"./deploy/fonts.js\", \"function getBinaryPromise(){\", \"function getBinaryPromise2(){\");base.delete_file(\"freetype-2.10.1.zip\") if base.is_file(\"freetype-2.10.1.zip\") else None;base.delete_file(\"./../engine.js\") if base.is_file(\"./../engine.js\") else None;base.copy_file(\"./deploy/fonts.js\", \"./../engine.js\")",
	"base_js_content": "./../engine_base.js",

	"compiler_flags": [
		"-O3",
		"-fno-exceptions",
		"-fno-rtti",
		"-Wno-unused-command-line-argument",
		"-s ALLOW_MEMORY_GROWTH=1",
		"-s FILESYSTEM=0",
		"-s ENVIRONMENT='web'"
	],
	"exported_functions": [
		"_malloc",
		"_free",
		"_ASC_FT_Malloc",
		"_ASC_FT_Free",
		"_ASC_FT_Init",
		"_ASC_FT_Open_Face",
		"_ASC_FT_SetCMapForCharCode",
		"_FT_Done_FreeType",
		"_FT_Done_Face",
		"_FT_Load_Glyph",
		"_FT_Get_Glyph",
		"_FT_Set_Transform",
		"_FT_Set_Char_Size",
		"_ASC_FT_GetFaceInfo",
		"_ASC_FT_GetFaceMaxAdvanceX",
		"_ASC_FT_GetKerningX",
		"_ASC_FT_Glyph_Get_CBox",
		"_ASC_FT_Get_Glyph_Measure_Params",
		"_ASC_FT_Get_Glyph_Render_Params",
		"_ASC_FT_Get_Glyph_Render_Buffer",
		"_ASC_FT_Set_Transform",
		"_ASC_FT_Set_TrueType_HintProp"
	],
	"include_path": ["freetype-2.10.1/include", "freetype-2.10.1/include/freetype", "freetype-2.10.1/include/freetype/internal"],
	"define": ["WIN32", "NDEBUG", "_LIB", "_CRT_SECURE_NO_WARNINGS", "FT2_BUILD_LIBRARY"],
	"compile_files_array": [
	{
		"name": "f",
		"folder": "freetype-2.10.1/",
		"files": [
			"builds/windows/ftdebug.c",
			"src/autofit/autofit.c",
			"src/bdf/bdf.c",
			"src/cff/cff.c",
			"src/base/ftbase.c",
			"src/base/ftbitmap.c",
			"src/base/ftfstype.c",
			"src/base/ftgasp.c",
			"src/cache/ftcache.c",
			"src/base/ftglyph.c",
			"src/gzip/ftgzip.c",
			"src/base/ftinit.c",
			"src/lzw/ftlzw.c",
			"src/base/ftstroke.c",
			"src/base/ftsystem.c",
			"src/smooth/smooth.c",
			"src/base/ftbbox.c",
			"src/base/ftbdf.c",
			"src/base/ftcid.c",
			"src/base/ftmm.c",
			"src/base/ftpfr.c",
			"src/base/ftsynth.c",
			"src/base/fttype1.c",
			"src/base/ftwinfnt.c",
			"src/base/ftgxval.c",
			"src/base/ftotval.c",
			"src/base/ftpatent.c",
			"src/pcf/pcf.c",
			"src/pfr/pfr.c",
			"src/psaux/psaux.c",
			"src/pshinter/pshinter.c",
			"src/psnames/psmodule.c",
			"src/raster/raster.c",
			"src/sfnt/sfnt.c",
			"src/truetype/truetype.c",
			"src/type1/type1.c",
			"src/cid/type1cid.c",
			"src/type42/type42.c",
			"src/winfonts/winfnt.c",
			"../freetype-common/freetype.c"
		]
	}
	]
}
